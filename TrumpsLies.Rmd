---
title: "Lies"
author: "Christine Iyer"
date: "June 13, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(rvest)
library(stringr)
library(reshape2)
library(knitr)
library(lubridate)
library(dplyr)
```

```{r}
Lies1 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/")
Statement <- Lies1 %>% html_nodes(".statement__text") %>% html_text()
month <- Lies1 %>% html_nodes(".article__meta") %>% html_text()
page1 <- cbind(month, Statement)
page1

Lies2 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=2")
Statement2 <- Lies2 %>% html_nodes(".statement__text") %>% html_text()
month2 <- Lies2 %>% html_nodes(".article__meta") %>% html_text()
page2 <- cbind(month2, Statement2)

Lies3 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=3")
Statement3 <- Lies3 %>% html_nodes(".statement__text") %>% html_text()
month3 <- Lies3 %>% html_nodes(".article__meta") %>% html_text()
page3 <- cbind(month3, Statement3)
page3

Lies4 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=4")
Statement4 <- Lies4 %>% html_nodes(".statement__text") %>% html_text()
month4 <- Lies4 %>% html_nodes(".article__meta") %>% html_text()
page4 <- cbind(month4, Statement4)

Lies5 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=5")
Statement5 <- Lies5 %>% html_nodes(".statement__text") %>% html_text()
month5 <- Lies5 %>% html_nodes(".article__meta") %>% html_text()
page5 <- cbind(month5, Statement5)

Lies6 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=6")
Statement6 <- Lies6 %>% html_nodes(".statement__text") %>% html_text()
month6 <- Lies6 %>% html_nodes(".article__meta") %>% html_text()
page6 <- cbind(month6, Statement6)

Lies7 <- read_html("http://www.politifact.com/personalities/donald-trump/statements/byruling/false/?page=7")
Statement7 <- Lies7 %>% html_nodes(".statement__text") %>% html_text()
month7 <- Lies7 %>% html_nodes(".article__meta") %>% html_text()
page7 <- cbind(month7, Statement7)
```

```{r}
x <- rbind(page1, page2, page3, page4, page5, page6, page7)
class(x)
kable(head(x))




#convert to data frame
x <- as.data.frame(x)
#confirm conversion
str(x)
#edit the month column
x$month <- gsub("on ", "", paste(x$month))

suffix <- c("th", "nd", "st", "rd")
x$month <-  gsub(suffix, '', x$month)
x$month <- substring(x$month, 8)

nchar(x$month[1])

nchar(x$month[15])

#kable(x %>% mutate(id = row_number()) %>% select(id, month, Statement))


x[c(4, 6, 11,14,18,26, 30:31, 38, 54, 58, 60, 66:67, 70, 83:84, 86, 88,91:93,97:99, 102, 105:106, 113, 120, 127,133),1]<- substring(x[c(4, 6, 11,14,18,26, 30:31, 38, 54, 58, 60, 66:67, 70, 83:84, 86, 88,91:93,97:99, 102, 105:106, 113, 120,127, 133),1], 3)

x[c(15, 20, 27, 46, 49:51, 61, 68:69, 72:74, 78:80, 85, 104, 109, 112, 123 ),1]<- substring(x[c(15, 20, 27, 46, 49:51, 61, 68:69, 72:74, 78:80, 85, 104, 109, 112, 123 ),1], 4)

x[c(7:8, 22, 32:34, 39:43, 55:56,65, 81, 94, 101,110, 121, 124, 128:129,131 ),1]<- substring(x[c(7:8, 22, 32:34, 39:43, 55:56,65, 81, 94, 101, 110, 121, 124, 128:129, 131 ),1], 2)

kable(x %>% mutate(id = row_number()) %>% select(id, month, Statement))




```

```{r}
# events1 <- cbind(month, Statement)
# kable(head(events1))
# 
# events2 <- cbind(month2, Statement2)
# kable(head(events2))
# 
# events3 <- cbind(month3, Statement3)
# kable(head(events3))
# 
# events4 <- cbind(month4, Statement4)
# kable(head(events4))
# 
# events5 <- cbind(month5, Statement5)
# kable(head(events5))
# 
# events6 <- cbind(month6, Statement6)
# kable(head(events6))
# 
# events7 <- cbind(month7, Statement7)
# kable(head(events7))
```


```{r}

```

